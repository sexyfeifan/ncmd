# 网易云音乐下载器 v2.4.0

## 版本更新内容

### 新增功能
- 版本号升级至 v2.4.0
- 优化了下载性能和稳定性

### 修复问题
- 修复了应用无法直接打开运行的问题
- 实现下载出错时自动降级音质功能
- 修复FLAC格式歌曲专辑封面缺失问题

## 使用说明

### 安装依赖
```bash
pip install -r requirements.txt
```

### 运行应用
```bash
# GUI版本
python gui_main.py

# 命令行版本
python main.py
```

### 打包为macOS应用
```bash
python build_simple_fixed.py
```

## 功能特性

- 🎵 完整的歌曲搜索功能
- 👤 歌手页面跳转
- 💿 专辑页面查看
- 📥 批量下载歌曲
- 🎵 多种音质选择
- 🏷️ 智能音质降级
- 🖼️ 完善的元数据嵌入
- 📂 按专辑分组下载
- 🔀 多种命名格式
- ⚡ 并发下载支持（可调节并发数）
- 📊 实时下载进度显示
- 🛑 暂停/继续/取消功能
- 📂 已下载歌曲识别

## 技术改进

### 音质降级机制
当用户选择的音质不可用时，系统会自动尝试较低音质，确保下载成功率：
1. 沉浸环绕声 (sky)
2. 超清母带 (jymaster)
3. 高清臻音 (jyeffect)
4. 无损 (lossless)
5. 极高 (exhigh)
6. 标准 (standard)

### 下载性能优化
- 使用 64KB 块大小提升传输效率（比默认 8KB 更高效）
- 连接池大小：10 个连接
- 默认并发下载数：3（可在 1-5 之间调节）
- 支持流式下载，避免大文件占用过多内存

### 元数据处理优化
- FLAC文件封面嵌入修复
- 提高封面图片质量（500x500分辨率）
- 改进MP3文件元数据处理

### 错误处理增强
- 更好的网络错误处理
- 更详细的日志记录
- 用户友好的错误提示

## 版本历史

### v2.4.0 (2025-12-14)
- 版本号升级
- 优化下载性能和稳定性

### v2.3.0 (2025-12-14)
- 修复应用无法直接打开运行的问题
- 实现下载出错时自动降级音质功能
- 修复FLAC格式歌曲专辑封面缺失问题

### v2.2.0
- 添加图形界面版本
- 支持歌单解析和批量下载
- 实现浏览器自动登录获取Cookie

### v2.1.0
- 添加浏览器登录功能
- 支持多种音质选择
- 实现歌词下载功能

## 提高下载速度的方法

### 1. 调整并发下载数
在应用界面中，您可以调整并发下载数：
- **默认值**：3（平衡稳定性和速度）
- **建议范围**：3-5（根据网络情况调整）
- **注意事项**：过高可能导致服务器限流

### 2. 选择合适的音质
- 如果追求速度而非音质，可以选择较低音质
- 标准音质通常比无损音质下载快 3-5 倍

### 3. 优化网络环境
- 确保网络连接稳定
- 关闭占用带宽的其他应用程序
- 使用有线网络连接（如果可能）

### 4. 选择合适的下载时段
- 避开网络高峰期
- 夜间或清晨通常网络较为空闲

## 注意事项

1. 首次使用需要登录网易云音乐账号
2. 部分高品质音质需要会员权限
3. 下载的音乐仅供个人学习和欣赏，请尊重版权
4. 请遵守相关法律法规，勿用于商业用途